{"version":3,"sources":["webpack:///./src/views/InfoShow.vue?ce93","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./src/views/InfoShow.vue?21db","webpack:///src/views/InfoShow.vue","webpack:///./src/views/InfoShow.vue?c3ce","webpack:///./src/views/InfoShow.vue","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-symbols.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-descriptor.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InfoShow_vue_vue_type_style_index_0_id_0f3815d2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InfoShow_vue_vue_type_style_index_0_id_0f3815d2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","toObject","$keys","it","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","type","justify","span","action","data","id","user","show-file-list","on-success","handleAvatarSuccess","before-upload","beforeAvatarUpload","src","icon","_v","_s","name","identity","staticRenderFns","InfoShowvue_type_script_lang_js_","computed","Object","objectSpread","vuex_esm","mounted","_initData","methods","localStorage","res","file","$message","message","setItem","URL","createObjectURL","raw","isJPG","isLt2M","size","error","views_InfoShowvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","keys","toIObject","$getOwnPropertyDescriptor","f","key","$export","core","fails","KEY","exec","fn","exp","S","F","d","_objectSpread","_core_js_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_0__","_core_js_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_0___default","_core_js_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1__","_core_js_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_1___default","_core_js_object_keys__WEBPACK_IMPORTED_MODULE_2__","_core_js_object_keys__WEBPACK_IMPORTED_MODULE_2___default","_defineProperty__WEBPACK_IMPORTED_MODULE_3__","target","i","arguments","length","source","ownKeys","a","concat","filter","sym","enumerable","forEach","getOwnPropertySymbols","$Object","getOwnPropertyDescriptor"],"mappings":"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","file":"js/chunk-26ed9ebc.3eaaa903.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoShow.vue?vue&type=style&index=0&id=0f3815d2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoShow.vue?vue&type=style&index=0&id=0f3815d2&scoped=true&lang=css&\"","module.exports = require(\"core-js/library/fn/object/get-own-property-descriptor\");","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"infoshow\"},[_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"/api/users/updata\",\"data\":{id: _vm.user.id},\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.icon)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.icon}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)]),_c('el-col',{attrs:{\"span\":16}},[_c('div',{staticClass:\"userinfo\"},[_c('div',{staticClass:\"user-item\"},[_c('i',{staticClass:\"el-icon-user-solid\"}),_c('span',[_vm._v(_vm._s(_vm.user.name))])]),_c('div',{staticClass:\"user-item\"},[_c('i',{staticClass:\"el-icon-s-tools\"}),_c('span',[_vm._v(_vm._s(_vm.user.identity))])])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"infoshow\">\r\n    <el-row type=\"flex\" class=\"row-bg\" justify=\"center\">\r\n      <el-col :span=\"8\">\r\n        <div>\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            action=\"/api/users/updata\"\r\n            :data=\"{id: user.id}\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\">\r\n            <img v-if=\"icon\" :src=\"icon\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"16\">\r\n        <div class=\"userinfo\">\r\n          <div class=\"user-item\">\r\n            <i class=\"el-icon-user-solid\"></i>\r\n            <span>{{user.name}}</span>\r\n          </div>\r\n          <div class=\"user-item\">\r\n            <i class=\"el-icon-s-tools\"></i>\r\n            <span>{{user.identity}}</span>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from 'vuex'\r\nexport default {\r\n  name: 'InfoShow',\r\n  computed: {\r\n    ...mapState(['user'])\r\n  },\r\n  data() {\r\n    return {\r\n      icon: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    // 组件挂载时，获取初始头像数据\r\n    this._initData();\r\n  },\r\n  methods: {\r\n    _initData () {\r\n      this.icon = localStorage.icon;\r\n    },\r\n    handleAvatarSuccess(res, file) {\r\n      this.$message({\r\n        message: '上传成功',\r\n        type: 'success'\r\n      })\r\n      // 上传头像后，在本地localStorage上进行存储，以便使用\r\n      localStorage.setItem('icon', URL.createObjectURL(file.raw));\r\n      // 再次刷新以便icon获取最新头像地址\r\n      this._initData();\r\n      // this.data = JSON.parse(JSON.stringify(this.user));\r\n      // this.data.icon = URL.createObjectURL(file.raw);\r\n      // console.log(this.data)\r\n      // localStorage.user = this.data;\r\n      // this.$store.dispatch('setUser', this.data)\r\n      // console.log(this.user)\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      // 上传图片校验\r\n      const isJPG = file.type === 'image/jpeg';\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error('上传头像图片只能是 JPG 格式!');\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 2MB!');\r\n      }\r\n      return isJPG && isLt2M;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .avatar-uploader {\r\n    position: absolute;\r\n    width: 178px;\r\n    height: 178px;\r\n    margin: 0 10%;\r\n    top: 30%;\r\n  }\r\n  .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n    border: 1px dashed #d9d9d9;\r\n  }\r\n  .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    /* display: block; */\r\n    border-radius: 50%;\r\n  }\r\n.infoshow{\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.infoshow .row-bg{\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.infoshow .row-bg .user{\r\n  height: 100%;\r\n  margin: 0 auto;\r\n}\r\n.infoshow .row-bg .user img{\r\n  position: relative;\r\n  top: 30%;\r\n  left: 50%;\r\n  margin-left: -85px;\r\n  width: 170px;\r\n  height: 170px;\r\n  background-size: cover;\r\n  border-radius: 50%;\r\n}\r\n.infoshow .row-bg .userinfo {\r\n  background-color: #eee;\r\n  height: 100%;\r\n}\r\n.infoshow .row-bg .user-item{\r\n  position: relative;\r\n  top: 30%;\r\n  padding: 26px;\r\n  font-size: 28px;\r\n  color: #000;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoShow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoShow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InfoShow.vue?vue&type=template&id=0f3815d2&scoped=true&\"\nimport script from \"./InfoShow.vue?vue&type=script&lang=js&\"\nexport * from \"./InfoShow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InfoShow.vue?vue&type=style&index=0&id=0f3815d2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f3815d2\",\n  null\n  \n)\n\nexport default component.exports","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = require(\"core-js/library/fn/object/keys\");","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","import _Object$getOwnPropertyDescriptor from \"../../core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"../../core-js/object/keys\";\nimport defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    var ownKeys = _Object$keys(source);\n\n    if (typeof _Object$getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(_Object$getOwnPropertySymbols(source).filter(function (sym) {\n        return _Object$getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertySymbols;\n","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n"],"sourceRoot":""}